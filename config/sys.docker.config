[
 {kernel, [
    {logger_level, info},
    {logger, [
        %% Console-only handler â€” Docker captures stdout via log driver.
        %% No file handler: containers should not write persistent log files.
        {handler, default, logger_std_h, #{
            level => info,
            formatter => {logger_formatter, #{
                template => [time, " [", level, "] ", msg, "\n"]
            }}
        }}
    ]}
 ]},
 {beamclaw_core, [
    {default_provider, openrouter},
    {providers, [
        {openrouter, #{api_key  => {env, "OPENROUTER_API_KEY"},
                       base_url => "https://openrouter.ai/api/v1",
                       model    => "moonshotai/kimi-k2.5"}},
        {openai, #{api_key  => {env, "OPENAI_API_KEY"},
                   base_url => "https://api.openai.com/v1",
                   model    => "gpt-4o"}}
    ]},
    {agentic_loop, #{max_tool_iterations => 10,
                     compaction_threshold => 50,
                     compaction_target    => 20,
                     stream_chunk_size    => 80}},
    {autonomy_level, supervised},
    {session_ttl_seconds, 3600},
    {default_agent, <<"default">>},
    {session_persistence, true},
    {session_sharing, shared},
    {session_cleanup_interval_ms, 300000},
    {skills, #{}}
 ]},
 {beamclaw_mcp, [
    {servers, []}
 ]},
 {beamclaw_gateway, [
    {http, #{port => 18800}},
    {channels, [
        {telegram, #{token => {env, "TELEGRAM_BOT_TOKEN"}, mode => long_poll,
                     dm_policy => pairing, allow_from => []}},
        {tui,      #{enabled => false}}   %% stdin not available in detached containers
    ]}
 ]},
 {beamclaw_obs, []},
 {beamclaw_memory, [
    {backend, ets}
 ]}
].
